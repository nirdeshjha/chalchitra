<!DOCTYPE html>

<html>

<head>
    <title>chalchitram/register</title>
    <link rel="stylesheet" href="Addon.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>
    <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/css/bootstrap-select.min.css">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/js/bootstrap-select.min.js"></script>

    <!-- (Optional) Latest compiled and minified JavaScript translation files -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>

    <script>
        $(document).ready(function () {
            // Read value on page load
            $("#result b").html($("#customRange").val());

            // Read value on change
            $("#customRange").change(function () {
                $("#result b").html($(this).val());
            });
        });        
    </script>
</head>

<body>
    <div class="container-fluid bg-danger" style="width: 100%;">
        <img src="C:\Users\Nirdesh\OneDrive\Desktop\chalchitra\chalchitram\frontend\logo.png"
            style="margin: 0 50%; display: inline; padding: 5px;">
    </div>
    <div class="container">
        <nav class="navbar navbar-light bg-white">

        </nav>
        <nav class="navbar navbar-light bg-white">

        </nav>
        <form>
            <div class="form-row">
                <div class="col-md-4 mb-3">
                    <label for="validationDefault01">First name</label>
                    <input type="text" class="form-control" id="validationDefault01" placeholder="First name" required>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="validationDefault02">Last name</label>
                    <input type="text" class="form-control" id="validationDefault02" placeholder="Last name" required>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="validationDefaultUsername">Username</label>
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="inputGroupPrepend2">@</span>
                        </div>
                        <input type="text" class="form-control" id="validationDefaultUsername" placeholder="Username"
                            aria-describedby="inputGroupPrepend2" required>
                    </div>
                </div>
            </div>
            <div class="form-row">
                <div class="col-md-6 mb-3">
                    <label for="validationDefault03">City</label>
                    <input type="text" class="form-control" id="validationDefault03" placeholder="City" required>
                </div>
                <div class="col-md-3 mb-3">
                    <label for="validationDefault04">State</label>
                    <input type="text" class="form-control" id="validationDefault04" placeholder="State" required>
                </div>
                <div class="col-md-3 mb-3">
                    <label for="validationDefault05">Zip</label>
                    <input type="text" class="form-control" id="validationDefault05" placeholder="Zip" required>
                </div>
            </div>
            <div class="form-row">
                <div class="col-md-9">
                    <label for="validationDefault03">Email</label>
                    <input type="text" class="form-control" id="validationDefault06" placeholder="EmailID" required>
                </div>
                <div class="col-md-3">
                    <label for="validationDefault03">Contact Number</label>
                    <input type="text" class="form-control" id="validationDefault07"
                        placeholder="Enter your mobile number" required>
                </div>
            </div>
            <div class="form-row">
                <div class="col-md-6">
                    <label for="validationDefault03">Password</label>
                    <input type="text" class="form-control" id="validationDefault08" placeholder="Enter your password"
                        required>
                </div>
                <div class="col-md-6">
                    <label for="validationDefault03">Re Password</label>
                    <input type="text" class="form-control" id="validationDefault09"
                        placeholder="password and Re password should be same" required>
                </div>
            </div>
            <div class="form-group">
                <label for="customRange">Age:</label>
                <input type="range" class="custom-range" id="customRange">
            </div>
            <div id="result" class="form-group">Current Value: <b></b></div>

            <div class="row form-group w-100">
                <select class="selectpicker" data-width="100%" multiple id="validationDefault10">
                    <optgroup label="A">
                        <option>Action</option>
                        <option>Adventure</option>
                    </optgroup>
                    <optgroup label="C">
                        <option>Comedy</option>
                        <option>Crime</option>
                    </optgroup>
                    <optgroup label="D">
                        <option>Drama</option>
                    </optgroup>
                    <optgroup label="F">
                        <option>Fantasy</option>
                    </optgroup>
                    <optgroup label="H">
                        <option>Historical</option>
                        <option>Historical Fiction</option>
                        <option>Horror</option>
                    </optgroup>
                    <optgroup label="M">
                        <option>Magical Realism</option>
                        <option>Mystery</option>
                    </optgroup>
                    <optgroup label="P">
                        <option>Paranod Fiction</option>
                        <option>Philosophical</option>
                        <option>Political</option>
                    </optgroup>
                    <optgroup label="R">
                        <option>Romance</option>
                    </optgroup>
                    <optgroup label="S">
                        <option>Saga</option>
                        <option>Sattire</option>
                        <option>Science Fiction</option>
                        <option>Social</option>
                        <option>Speculative</option>
                    </optgroup>
                    <optgroup label="T">
                        <option>Thriller</option>
                    </optgroup>
                    <optgroup label="U">
                        <option>Urban</option>
                    </optgroup>
                    <optgroup label="W">
                        <option>Western</option>
                    </optgroup>
                </select></div>
            <div class="form-group" style="display: none;">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="invalidCheck2" required>
                    <label class="form-check-label" for="invalidCheck2">
                        Agree to terms and conditions
                    </label>
                </div>
            </div>
            <div class="row">
                <div class="col"><button class="btn btn-primary" value="Register" style="margin: auto; display: block;"
                        onclick="sendData()">Register</button>
                </div>
            </div>
        </form>

    </div>
    <script>
        const sendHttpRequest = (method, url, data) => {
            return fetch(url, {
                method: "POST",
                body: JSON.stringify(data),
                headers: {
                    'Content-Type': 'application/json'
                },
            }
            ).then(response => {
                if (response.status >= 400) {
                    // !response.ok
                    return response.json().then(errResData => {
                        const error = new Error('Something went wrong!')
                        error.data = errResData
                        throw error
                    })
                }
                return response.json()
            })
        }
        const sendData = () => {
            if (document.getElementById('validationDefault08').value !== document.getElementById('validationDefault09').value) {
                Swal.fire({
                    icon: 'error',
                    title: 'Oops...',
                    text: "Password and Re password didn't match!",
                })
                return
            }
            sendHttpRequest('POST', 'http://localhost:3000/api/customer', {
                first_name: document.getElementById('validationDefault01').value,
                last_name: document.getElementById('validationDefault02').value,
                username: '@' + document.getElementById('validationDefaultUsername').value,
                city: document.getElementById('validationDefault03').value,
                state: document.getElementById('validationDefault04').value,
                zip: document.getElementById('validationDefault05').value,
                email: document.getElementById('validationDefault06').value,
                contact: document.getElementById('validationDefault07').value,
                password: document.getElementById('validationDefault08').value,
                age: document.getElementById('customRange').value,
                genre: [document.getElementById('validationDefault10').value]
            })
                .then(responseData => {
                    console.log(responseData)
                })
                .catch(err => {
                    console.log(err, err.data)
                })
            /*const user = {
            first_name: document.getElementById('validationDefault01').value,
            last_name: document.getElementById('validationDefault02').value,
            username: '@' + document.getElementById('validationDefaultUsername').value,
            city: document.getElementById('validationDefault03').value,
            state: document.getElementById('validationDefault04').value,
            zip: document.getElementById('validationDefault05').value,
            email: document.getElementById('validationDefault06').value,
            contact: document.getElementById('validationDefault07').value,
            password: document.getElementById('validationDefault08').value,
            age: document.getElementById('customRange').value,
            genre: [document.getElementById('validationDefault10').value]
        }
        const options = {
            method: 'POST',
            body: JSON.stringify(user),
            headers: {
                'Content-Type': 'application/json'
            }
        }
        fetch('http://localhost:3000/api/customer', options)
            .then(res => {
                return res.JSON
            })
            .then(resData => console.log(resData))
            .catch(err => console.log(err, err.data))*/
        }
    </script>

</body>

</html>